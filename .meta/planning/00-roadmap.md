# CLI-PIPE 개발 로드맵

## 프로젝트 개요
- **목표**: Unix 명령어 파이프라인을 YAML로 정의하고 실행하는 도구
- **핵심 가치**: 재현성, 추적성, 사용성
- **접근 방식**: 점진적 개발 (MVP → Pipeline → Builder)

## 개발 단계

### Phase 0: MVP - 기본 실행 엔진 (v0.1)
**기간**: 1주 (2024년 1월 3주차)
**목표**: 작동하는 최소 버전

**주요 기능**:
- YAML 파일 파싱 (입출력 명시)
- Step 간 파이프 연결
- 순차 실행
- 파일 기반 로깅

**예제**:
```yaml
name: hello-world
steps:
  - name: greet
    run: echo "Hello, World!"
    output: greeting
  - name: upper
    run: tr '[:lower:]' '[:upper:]'
    input: greeting
```

**구현 범위**:
- [ ] 기본 YAML 파서
- [ ] Step 실행 엔진
- [ ] 파이프 연결 로직
- [ ] 로깅 시스템

### Phase 1: Pipeline - 고급 기능 (v0.2)
**기간**: 1주 (2024년 1월 4주차)
**목표**: 실용적인 파이프라인 도구

**추가 기능**:
- 파라미터 시스템 ({{.param}})
- 고루틴 기반 동시 실행
- 스트림 분기 (1 output → N inputs)
- 에러 처리 및 재시도
- 진행률 표시

**예제**:
```yaml
name: backup-pipeline
params:
  source: /data
steps:
  - name: tar
    run: tar cf - {{.source}}
    output: archive
  - name: compress
    run: gzip -9
    input: archive
    output: file:backup.gz
  - name: checksum
    run: sha256sum
    input: archive
    output: file:backup.sha256
```

**구현 범위**:
- [ ] 변수 치환 시스템
- [ ] DAG 분석 및 병렬 실행
- [ ] 에러 처리 전략
- [ ] 파일/변수 출력 타입

### Phase 2: Builder - 사용성 개선 (v0.3)
**기간**: 2주 (2024년 2월 1-2주차)
**목표**: 사용하기 쉬운 도구

**추가 기능**:
- CLI 대화형 빌더 (`cli-pipe new`)
- 파이프라인 템플릿
- 실행 모니터링
- 파이프라인 시각화
- 실행 이력 관리

**구현 범위**:
- [ ] 대화형 CLI 인터페이스
- [ ] 템플릿 시스템
- [ ] 실시간 로그 뷰어
- [ ] 파이프라인 검증

### Phase 3: Advanced - 고급 기능 (v1.0)
**기간**: 추후 결정
**목표**: 엔터프라이즈급 도구

**계획 기능**:
- TUI (tview 기반)
- 원격 실행 (SSH, Kubernetes)
- 웹 UI
- 플러그인 시스템
- 스케줄링

## 기술 스택

### 핵심 의존성
- Go 1.21+
- gopkg.in/yaml.v3 (YAML 파싱)
- 표준 라이브러리 중심

### 추가 의존성 (Phase별)
- Phase 2: cobra (CLI)
- Phase 3: tview (TUI)

## 품질 목표

### 코드 품질
- 테스트 커버리지: 90%+
- 파일 크기: < 500줄
- 함수 크기: < 50줄
- 복잡도: < 10

### 성능 목표
- 시작 시간: < 100ms
- 메모리 사용: < 50MB
- 파이프라인 오버헤드: < 5%

## 릴리즈 계획

### v0.1.0 (MVP)
- 날짜: 2024년 1월 말
- 기능: 기본 파이프라인 실행
- 대상: Early Adopters

### v0.2.0 (Pipeline)
- 날짜: 2024년 2월 초
- 기능: 실용적인 파이프라인
- 대상: 개발자

### v0.3.0 (Builder)
- 날짜: 2024년 2월 중순
- 기능: 사용성 개선
- 대상: 일반 사용자

### v1.0.0 (Stable)
- 날짜: 2024년 3월
- 기능: 안정적인 버전
- 대상: 프로덕션 사용

## 위험 요소 및 대응

### 기술적 위험
1. **고루틴 동기화 복잡도**
   - 대응: 단순한 모델부터 시작
   - Phase 1에서 점진적 추가

2. **파이프 데드락**
   - 대응: 타임아웃 설정
   - 버퍼 크기 조정

3. **메모리 사용량**
   - 대응: 스트리밍 처리
   - 대용량 파일 테스트

### 사용성 위험
1. **복잡한 YAML 구조**
   - 대응: 빌더 도구 제공
   - 템플릿 시스템

2. **디버깅 어려움**
   - 대응: 상세한 로깅
   - 실행 추적

## 성공 지표

### 정량적 지표
- GitHub Stars: 100+ (3개월)
- 활성 사용자: 50+ (3개월)
- 이슈 응답 시간: < 48시간

### 정성적 지표
- "백업 자동화가 쉬워졌다"
- "디버깅이 편하다"
- "재실행이 간단하다"

## 다음 단계

1. **즉시 시작**: MVP 구현 (01-mvp-plan.md 참조)
2. **피드백 수집**: Early Adopters 대상
3. **반복 개선**: 2주 스프린트